# 百度 OCR API 配置指南

Legal Extractor 使用百度的 PaddleOCR-VL 大模型版面分析技术来处理 PDF 文档和图片扫描件。为了使用此功能，您需要申请并配置百度 AI 开放平台的 API Key。

> **注意**：处理 .docx (Word) 文件不需要此配置，可以直接使用。

## 步骤 1：注册/登录百度 AI 开放平台

1. 访问 [百度 AI 开放平台控制台](https://console.bce.baidu.com/ai/)。
2. 登录您的百度账号。

## 步骤 2：创建应用

1. 在控制台左侧菜单中，找到 **"文字识别"**。
2. 点击 **"创建应用"** 按钮。
3. 填写应用名称（例如：`LegalExtractor`）。
4. **接口选择**：默认情况下，基础的文字识别接口都是选中的。为了获得最佳效果，建议确保 **"办公文档识别"** 或 **"通用文字识别（高精度版）"** 已启用。
5. 应用归属选择 "个人" 或 "企业"。
6. 点击 "立即创建"。

## 步骤 3：获取密钥

1. 创建成功后，返回应用列表。
2. 找到您刚才创建的应用。
3. 您将看到以下两个关键信息：
   - **App ID**
   - **API Key**
   - **Secret Key**

## 步骤 4：配置软件

### 方式一：修改配置文件 (桌面版推荐)

1. 打开软件所在的目录。
2. 进入 `config` 文件夹（如果不存在请手动创建）。
3. 创建或编辑 `conf.yaml` 文件，填入您的密钥：

```yaml
baidu:
  app_id: "您的AppID"
  api_key: "您的API Key"
  secret_key: "您的Secret Key"
```

### 方式二：环境变量 (Docker/服务器版推荐)

如果您使用 Docker 部署，可以在 `docker-compose.yml` 中设置环境变量：

```yaml
environment:
  - LEGAL_EXTRACTOR_BAIDU_API_KEY=您的API_KEY
  - LEGAL_EXTRACTOR_BAIDU_SECRET_KEY=您的SECRET_KEY
```

## 常见问题

**Q: 只有 .docx 文件需要配置吗？**
A: 不需要。只有当您导入 PDF 或图片文件时，程序才会检查此配置。

**Q: 为什么提示 "API Key 无效"？**
A: 请检查密钥是否复制完整，或者该应用是否已欠费/超出免费调用额度。

**Q: 是否收费？**
A: 百度 AI 平台通常为个人开发者提供一定量的免费调用额度（例如每月 1000 次），超出后需付费。具体请参考百度官方说明。
